---
title: 前端常用算法（二）：去重
date: 2018-08-18 10:46:57
---
数组去重算法 JavaScript 实现整理

# 1、双层循环，push值进新数组

```bash
Array.prototype.distinct = function() {
    const cur_array = this, cur_array_length = this.length;
    let result = [], i, j;

    for(i = 0; i < cur_array_length; i++) {
        for(j = i + 1; j < cur_array_length; j++) {
            if(cur_array[i] === cur_array[j]) {
                # 始终与 cur_array[i] 右侧的元素相比较，如果找到
                # 与 cur_array[i] 相同的元素，就将指针右移，不执行插入操作
                # j = i = i + 1;
                j = ++i;
            }
        };

        result.push(cur_array[i])
    };

    return result
}
```

# 2、双层循环，splice操作原数组

```bash
Array.prototype.distinct = function() {
    let cur_array = this, cur_array_length = this.length, i, j;

    for(i = 0; i < cur_array_length; i++) {
        for(j = i + 1; j < cur_array_length; j++) {
            if(cur_array[i] === cur_array[j]) {
                # 始终与 cur_array[i] 右侧的元素相比较，如果找到
                # 与 cur_array[i] 相同的元素，就删除重复的元素
                cur_array.splice(j, 1);
                # 数组长度减 1
                cur_array_length--;
                # j = i = i + 1;
                j--;
            }
        }
    };

    return cur_array;
};
```

# 3、利用对象属性去重

```bash
Array.prototype.distinct = function() {
    const cur_array = this; cur_array_length = this.length;
    let obj = {}, result = [], i;

    for(i = 0; i < cur_array_length; i++) {
        if(!obj[cur_array[i]]) {
            obj[cur_array[i]] = 1;
            result.push(cur_array[i]);
        }
    };

    return result;
}
```

# 4、先排序，然后从末尾开始，递归比较

```bash
Array.prototype.distinct = function() {
    let cur_array = this, cur_array_length = this.length;
    const loop = index => {
        if(index >= 1) {
            if(cur_array[index] === cur_array[index - 1]) {
                cur_array.splice(index, 1);
            };

            loop(index - 1)
        }
    };

    # 先排序，如果不排序会发生什么
    cur_array.sort((a, b) => a - b);
    # 从末尾开始，如果从头开始可不可以
    loop(cur_array_length - 1);

    return cur_array;
}
```

# 5、利用 indexOf 去重

```bash
Array.prototype.distinct = function() {
    const cur_array = this, cur_array_length = this.length;
    let result = [];

    cur_array.forEach((item, index) => {
        # indexOf 的第二个参数 index + 1 表示从 index + 1 开始寻找
        cur_array.indexOf(item, index + 1) < 0 && result.push(item)
    });

    return result
}
```

# 6、利用 Set 数据类型去重

```bash
Array.prototype.distinct = function() {
    # 可以利用 Array.from 或者拓展运算符(...) 将Set结构转换成数组
    # return Array.from(new Set(this))
    return [...new Set(this)]
}
```
